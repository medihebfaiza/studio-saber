<div class="panel panel-default" id="client-list">
  <div class="panel-heading">
    <h4>Clients</h4>
  </div>
  <div class="panel-body" ng-controller="Client as client">
    <ul class="list-group">
      <li class="list-group-item" ng-repeat="aClient in allClients">
        <div class="row">
          <div class="col-md-1 col-xs-2" >
            {{aClient.firstName}}
          </div>
          <div class="col-md-1 col-xs-2">
            {{aClient.lastName}}
          </div>
          <div class="col-md-1 col-xs-2">
            {{aClient.telNumber}}
          </div>
          <div class="col-md-4 col-xs-4">
            {{aClient.email}}
          </div>
          <div class="col-md-3 col-xs-4">
            <button class="btn btn-info" data-toggle="collapse" data-target="#{{aClient._id}}">Show Bookings</button>
          </div>
          <div class="col-md-2 col-xs-2">
            <button class="btn btn-danger" ng-click="client.deleteClient(aClient)">Delete</button>
          </div>
        </div>
      </br>
        <div id="{{aClient._id}}" class="panel-collapse collapse" ng-controller="Event as event">
          <div ng-init="event.getClientEvents(aClient._id)">
          <ul class="list-group">
            <li class="list-group-item" ng-repeat="aEvent in events[aClient._id]">
              <div class="row">
                <div class="col-md-1 col-xs-2" >
                  {{aEvent.name}}
                </div>
                <div class="col-md-1 col-xs-2" >
                  {{aEvent.eventType}}
                </div>
                <div class="col-xs-3">
                  <button ng-class="aEvent.confirmed?'btn btn-success':'btn btn-warning'" ng-click="event.switchConfirmation(aClient._id,aEvent)">{{aEvent.confirmed?"Confirmed":"Unconfirmed"}}</button>
                </div>
                <div class="col-xs-2">
                  <button class="btn btn-danger" ng-click="event.deleteEvent(aClient._id,aEvent)">Delete</button>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </li>
  </div>
</div>
